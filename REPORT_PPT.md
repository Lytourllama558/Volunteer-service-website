---
marp: true
paginate: true
size: 16:9
---

# 志愿者服务网站
## 数据库辅修课项目汇报（简版）

- 主题：志愿活动发布与报名管理
- 日期：2025-12-13

---

## 1. 我做了什么？（一句话）

- 做了一个志愿活动系统：
  - 活动发布/展示
  - 用户报名
  - 管理员管理报名与活动
  - 简单统计（活动数、报名数）

---

## 2. 为什么需要数据库？

- 需要“长期保存”的数据：活动、报名、用户资料
- 需要“查询”的数据：活动列表、某活动报名列表
- 需要“统计”的数据：报名数量、剩余名额

---

## 3. 系统里有哪些数据（3 张表）

- activities（活动表）：标题、地点、日期、名额、描述…
- registrations（报名表）：谁报名了哪个活动、状态、报名时间…
- user_profiles（用户资料表）：姓名、联系方式、累计统计（可选）

---

## 4. 表之间的关系（最重要的一点）

- 一个活动可以有很多报名
- 每条报名只属于一个活动

对应关系：
- registrations.activity_id → activities.id（外键）

---

## 5. 我怎么保证数据“合理”（只讲 1~2 点即可）

- 名额相关：
  - 活动有 total_spots（总名额）和 spots_available（剩余名额）
  - 报名成功后剩余名额 -1；取消报名后 +1
- 可选加分：防止同一用户重复报名同一活动

---

## 6. 典型查询（你现场可以口头讲，不一定要懂全部 SQL）

1) 查询活动列表（按创建时间倒序）
```sql
select * from activities order by created_at desc;
```

2) 查询某活动的报名记录
```sql
select * from registrations where activity_id = '...';
```

---

## 7. 简单统计（COUNT / SUM）

1) 活动总数
```sql
select count(*) from activities;
```

2) 报名总数
```sql
select count(*) from registrations;
```

---

## 8. 功能演示顺序（建议照这个演示）

1) 管理员：创建一个活动（设置名额）
2) 用户：对该活动报名
3) 管理员：在“报名记录管理”里修改状态（待审核→已通过/已完成）
4) 管理员：删除/编辑活动（可选）

---

## 9. 我学到的数据库知识点

- 用“表”来保存业务数据（持久化）
- 用“主键/外键”表达关系（活动-报名 一对多）
- 用 SELECT 做查询，COUNT 做统计
- （可选）用约束/唯一性减少脏数据

---

## 10. 结束

- 总结：用三张表实现了活动与报名的管理
- 谢谢老师

